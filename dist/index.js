!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=41)}([function(t,e,n){},function(t,e,n){var r=n(4),o=n(24),i=n(25),c=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":c&&c in Object(t)?o(t):i(t)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(13);t.exports=function(t,e){var n=-1,o=t.length,i=o-1;for(e=void 0===e?o:e;++n<e;){var c=r(n,i),u=t[c];t[c]=t[n],t[n]=u}return t.length=e,t}},function(t,e,n){var r=n(5).Symbol;t.exports=r},function(t,e,n){var r=n(6),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(23))},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){var r=n(11),o=n(14),i=n(7);t.exports=function(t){return(i(t)?r:o)(t)}},function(t,e,n){var r=n(12),o=n(3);t.exports=function(t){return o(r(t))}},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e){var n=Math.floor,r=Math.random;t.exports=function(t,e){return t+n(r()*(e-t+1))}},function(t,e,n){var r=n(3),o=n(15);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(16),o=n(18);t.exports=function(t){return null==t?[]:r(t,o(t))}},function(t,e,n){var r=n(17);t.exports=function(t,e){return r(e,(function(e){return t[e]}))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},function(t,e,n){var r=n(19),o=n(33),i=n(37);t.exports=function(t){return i(t)?r(t):o(t)}},function(t,e,n){var r=n(20),o=n(21),i=n(7),c=n(26),u=n(28),a=n(29),s=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),l=!n&&o(t),f=!n&&!l&&c(t),p=!n&&!l&&!f&&a(t),d=n||l||f||p,v=d?r(t.length,String):[],b=v.length;for(var y in t)!e&&!s.call(t,y)||d&&("length"==y||f&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,b))||v.push(y);return v}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(22),o=n(2),i=Object.prototype,c=i.hasOwnProperty,u=i.propertyIsEnumerable,a=r(function(){return arguments}())?r:function(t){return o(t)&&c.call(t,"callee")&&!u.call(t,"callee")};t.exports=a},function(t,e,n){var r=n(1),o=n(2);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(4),o=Object.prototype,i=o.hasOwnProperty,c=o.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var o=c.call(t);return r&&(e?t[u]=n:delete t[u]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){(function(t){var r=n(5),o=n(27),i=e&&!e.nodeType&&e,c=i&&"object"==typeof t&&t&&!t.nodeType&&t,u=c&&c.exports===i?r.Buffer:void 0,a=(u?u.isBuffer:void 0)||o;t.exports=a}).call(this,n(8)(t))},function(t,e){t.exports=function(){return!1}},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(30),o=n(31),i=n(32),c=i&&i.isTypedArray,u=c?o(c):r;t.exports=u},function(t,e,n){var r=n(1),o=n(9),i=n(2),c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c["[object Arguments]"]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c["[object Map]"]=c["[object Number]"]=c["[object Object]"]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!c[r(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(6),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,c=i&&i.exports===o&&r.process,u=function(){try{var t=i&&i.require&&i.require("util").types;return t||c&&c.binding&&c.binding("util")}catch(t){}}();t.exports=u}).call(this,n(8)(t))},function(t,e,n){var r=n(34),o=n(35),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(36)(Object.keys,Object);t.exports=r},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(38),o=n(9);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e,n){var r=n(1),o=n(39);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";var r=n(0);n.n(r).a},function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"lucky-card-list"},t._l(t.list,(function(e,r){return n("li",{key:r,staticClass:"lucky-card",class:{active:t.selected.includes(r)},on:{click:function(e){return t.select(r)}}},[n("div",{staticClass:"lucky-card-side front"},[t._t("front",null,{data:e,index:r})],2),t._v(" "),n("div",{staticClass:"lucky-card-side back",attrs:{data:e,index:r}},[t._t("back",null,{data:e,index:r})],2)])})),0)};r._withStripped=!0;var o=n(10),i=n.n(o);function c(t,e,n,r,o,i,c){try{var u=t[i](c),a=u.value}catch(t){return void n(t)}u.done?e(a):Promise.resolve(a).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){c(i,r,o,u,a,"next",t)}function a(t){c(i,r,o,u,a,"throw",t)}u(void 0)}))}}function a(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var l={name:"vue-lucky-card",props:{data:{type:Array,default:function(){return[]}},times:{type:Number,default:1},onBeforeSelect:{type:Function,default:function(){}},initialOpenTime:{type:Number,default:1e3}},data:function(){return{selected:[],list:[]}},watch:{data:{immediate:!0,handler:function(t){var e=this;this.list=t,this.$nextTick((function(){return e.reset()}))}}},methods:{_getCenterPos:function(){var t=this.$el.getBoundingClientRect();return{x:(t.right-t.left)/2+t.left,y:(t.bottom-t.top)/2+t.top}},_iterativeItem:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};Array.prototype.forEach.call(this.$el.children,t)},_getLastItem:function(){var t=this.$el.children;return t[t.length-1]},_setTransition:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;if(e){this.$el.classList.remove("no-transition");var r=this._getLastItem(),o=function(){r.ontransitionend=null,r.onwebkittransitionend=null,n&&setTimeout(n,0)};r.ontransitionend=o,r.onwebkittransitionend=o}else this.$el.classList.add("no-transition"),setTimeout((function(){t.$el.classList.remove("no-transition"),n&&n()}),0)},_onceTurnEnd:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,o=this.$el.children[t],i=o.children[0];if(n){this.$el.classList.remove("no-transition");var c=function(){i.ontransitionend=null,i.onwebkittransitionend=null,r&&setTimeout(r,0)};i.ontransitionend=c,i.onwebkittransitionend=c}else this.$el.classList.add("no-transition"),setTimeout((function(){e.$el.classList.remove("no-transition"),r&&r()}),0)},_swapItem:function(t,e){var n=this.list[e];this.list[e]=this.list[t],this.list[t]=n,this.list=a(this.list)},gather:function(t){var e=this;return new Promise((function(n){var r=e._getCenterPos();e._setTransition(t,n),e._iterativeItem((function(t){var e=t.getBoundingClientRect(),n=(e.right-e.left)/2+e.left,o=(e.bottom-e.top)/2+e.top,i="translate(".concat(r.x-n,"px, ").concat(r.y-o,"px) scale(1.2)");t.style.transform=i,t.style.webkitTransform=i}))}))},scatter:function(t){var e=this;return new Promise((function(n){e._setTransition(t,n),e._iterativeItem((function(t){t.style.transform="",t.style.webkitTransform=""}))}))},shuffle:function(){this.list=i()(this.list),console.log("随机乱序",this.list)},openAll:function(t){var e=this;return new Promise((function(n){e.$el.classList.contains("open-all")?n():(e._onceTurnEnd(0,t,n),e.$el.classList.add("open-all"))}))},closeAll:function(t){var e=this;return new Promise((function(n){e.$el.classList.contains("open-all")?(e._onceTurnEnd(0,t,n),e.$el.classList.remove("open-all")):n()}))},select:function(t){var e=this;return u(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.list[t]){n.next=2;break}return n.abrupt("return");case 2:if(!(e.selected.length>=e.times)){n.next=4;break}return n.abrupt("return");case 4:if(!e.selected.includes(t)){n.next=6;break}return n.abrupt("return");case 6:if(!e.loading){n.next=8;break}return n.abrupt("return");case 8:if(e.loading=!0,e._onceTurnEnd(t,!0,(function(){e.loading=!1,e.$emit("selected",{index:t,selected:e.selected,list:e.list}),e.selected.length>=e.times&&(e.openAll(),e.$emit("complete",{index:t,selected:e.selected,list:e.list}))})),!((r=e.onBeforeSelect({index:t,selected:e.selected,list:e.list}))instanceof Promise)){n.next=15;break}return n.next=14,r;case 14:r=n.sent;case 15:"number"==typeof r&&e.list[r]&&e._swapItem(t,r),e.selected.push(t);case 17:case"end":return n.stop()}}),n)})))()},random:function(){var t=this;return u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.loading){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,t.selected=[],e.next=6,t.closeAll();case 6:return e.next=8,t.gather();case 8:return t.shuffle(),e.next=11,t.scatter();case 11:t.loading=!1;case 12:case"end":return e.stop()}}),e)})))()},reset:function(){var t=this;return u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.loading){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,t.selected=[],e.next=6,t.openAll(!1);case 6:return e.next=8,new Promise((function(e){setTimeout((function(){return e()}),t.initialOpenTime)}));case 8:return e.next=10,t.closeAll();case 10:return e.next=12,t.gather();case 12:return t.shuffle(),e.next=15,t.scatter();case 15:t.loading=!1;case 16:case"end":return e.stop()}}),e)})))()}},mounted:function(){}};n(40);var f=function(t,e,n,r,o,i,c,u){var a,s="function"==typeof t?t.options:t;if(e&&(s.render=e,s.staticRenderFns=n,s._compiled=!0),r&&(s.functional=!0),i&&(s._scopeId="data-v-"+i),c?(a=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(c)},s._ssrRegister=a):o&&(a=u?function(){o.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:o),a)if(s.functional){s._injectStyles=a;var l=s.render;s.render=function(t,e){return a.call(e),l(t,e)}}else{var f=s.beforeCreate;s.beforeCreate=f?[].concat(f,a):[a]}return{exports:t,options:s}}(l,r,[],!1,null,null,null);f.options.__file="src/Component.vue";var p=f.exports;p.install=function(t){t.component(p.name,p)};e.default=p}])}));